<!DOCTYPE html>
<!-- =====================
    Variables
    ===================== -->
{{ $css := partial "head/styles.html" (append "scss/app.scss" .Params.styles) }}
{{ $js := partial "head/scripts.html" (append "js/app.ts" .Params.scripts) }}
<!-- =====================
    HTML
    ===================== -->
<html class="no-js" lang="en-GB">
    <head>
        <!-- Meta -->
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>{{ with .Params.title -}} {{ . }} | {{ end }}{{ .Site.Title }}</title>
        <meta http-equiv="content-type" content="text/html; charset=utf-8">
        <meta name="description" content="{{ .Site.Params.description }}">
        <link rel="canonical" href="{{ .Site.BaseURL }}" />
		<!-- Base -->
		<base href="{{ .Site.BaseURL }}">
		<script>window.BaseURL = {{ .Site.BaseURL }};</script>
        <!-- Open Graph -->
        {{ template "_internal/opengraph.html" . }}
        <!-- Twitter -->
        {{ template "_internal/twitter_cards.html" . }}
        <!-- Google Analytics -->
        {{ if eq hugo.Environment "production" -}}
			{{ template "_internal/google_analytics_async.html" . }}
        {{ end }}
        <!-- CSS -->
        {{ range $file := $css -}}
			<link rel="stylesheet" href="{{ $file.RelPermalink }}">
        {{- end }}
		<!-- No JS -->

        {{ with index (partial "head/styles.html" (slice "scss/no-js.scss")) 0 }}
			<noscript>
				<link rel="stylesheet" href="{{ .RelPermalink }}">
			</noscript>
		{{ end }}
		<!-- Preload JS -->
		{{ range $file := $js -}}
			<link rel="preload" href="{{ $file.RelPermalink }}" as="script">
		{{- end }}
        <!-- Favicon -->
		<link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png">
		<link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
		<link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
		<link rel="manifest" href="/favicon/site.webmanifest">
		<link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#0a0a0a">
		<meta name="msapplication-TileColor" content="#0a0a0a">
		<meta name="theme-color" content="#0a0a0a">
    </head>
	<!-- =====================
		Body
		===================== -->
    {{ $colour := "black" }}
    {{ if eq .Params.pagecolour "white"}}
        {{ $colour = .Params.pagecolour }}
    {{ end }}
    <body class="theme-{{ $colour }}">
        <!-- Header -->
        {{- partial "header.html" (dict "global" .Site "colour" $colour) -}}
		<!-- Cursor -->
		<div class="cursor"></div>
		<!-- Wrapper -->
		<div class="content-wrapper">
			<!-- Main Content -->
			<main>
                {{- block "main" . }}{{- end }}
			</main>
			<!-- Footer -->
            {{- partial "footer.html" . -}}
		</div>
        <!-- Javascript -->
		{{ range $file := $js -}}
			<script src="{{ $file.RelPermalink }}"></script>
		{{- end }}
        <!-- Google Transition Fix -->
        <script> </script>
    </body>
</html>
