<!-- =====================
    Source
    TODO: Vars & Usage.
    TODO: Don't rely one Hugo to do the image processing for WebP, use the bash script.
    ===================== -->
{{ if .show -}}
    {{ $image := .resource.Resize (printf "%dx" .size) }}
    {{ $webp := .resource.Resize (printf "%dx webp" .size) }}
	<!-- AVIF -->
	<source media="(max-width: {{ .size }}px)" {{ if .lazy }} class="lazy lazy-hide"
			data-{{ end }}srcset="{{ strings.TrimSuffix (path.Ext $image.RelPermalink) $image.RelPermalink }}.avif"/>
	<!-- WebP -->
	<source media="(max-width: {{ .size }}px)" {{ if .lazy }} class="lazy lazy-hide"
			data-{{ end }}srcset="{{ $webp.RelPermalink }}"/>
	<!-- Original -->
	<source media="(max-width: {{ .size }}px)" {{ if .lazy }} class="lazy lazy-hide"
			data-{{ end }}srcset="{{ $image.RelPermalink }}"/>
{{- else -}}
	<!-- 1px Dot -->
	<source media="(max-width:1024px)" sizes="1px"
			srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"/>
{{- end }}


