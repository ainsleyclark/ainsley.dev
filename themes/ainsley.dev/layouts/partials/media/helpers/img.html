<!-- =====================
    Image
    TODO: Vars & Usage.
    TODO: Don't rely one Hugo to do the image processing for WebP, use the bash script.
    ===================== -->
{{ $image := .resource }}
{{/*{{ $webp := .resource.Resize (printf "%dx webp" .size) }}*/}}
<!-- AVIF -->
<img {{ if .lazy }} class="lazy lazy-hide"
	data-{{ end }}src="{{ strings.TrimSuffix (path.Ext $image.RelPermalink) $image.RelPermalink }}.avif"
	alt="{{ with .alt -}} {{ . }} {{- end }}"/>
<!-- WebP -->
{{/*<source media="(max-width: {{ .size }}px)" {{ if .lazy }} class="lazy lazy-hide"*/}}
{{/*	data-{{ end }}srcset="{{ $webp.RelPermalink }}" />*/}}
<!-- Original -->
<img {{ if .lazy }} class="lazy lazy-hide"
	data-{{ end }}src="{{ $image.RelPermalink }}"
	alt="{{ with .alt -}} {{ . }} {{- end }}" />


